var button=document.querySelector(".contacts-button"),feedback=document.querySelector(".modal-feedback"),feedbackClose=feedback.querySelector(".modal-close"),form=feedback.querySelector(".modal-form"),nameField=feedback.querySelector("#modal-name-field"),email=feedback.querySelector("#modal-email-field"),message=feedback.querySelector("#modal-message-field"),storageSupport=!0,storageName=null,storageEmail=null,mapLink=document.querySelector(".map-link"),map=document.querySelector(".modal-map"),mapClose=map.querySelector(".modal-close"),buttonSelfie=document.querySelector(".button-selfie"),buttonFitness=document.querySelector(".button-fitness"),buttonQuadcopter=document.querySelector(".button-quadcopter"),slideSelfie=document.querySelector(".slide-selfie-stick"),slideFitness=document.querySelector(".slide-fitness-tracker"),slideQuadcopter=document.querySelector(".slide-quadcopter"),buttonDelivery=document.querySelector(".button-delivery"),buttonWarranty=document.querySelector(".button-warranty"),buttonCredit=document.querySelector(".button-credit"),slideDelivery=document.querySelector(".slide-delivery"),slideWarranty=document.querySelector(".slide-warranty"),slideCredit=document.querySelector(".slide-credit");try{storageName=localStorage.getItem("name")}catch(e){storageSupport=!1}try{storageEmail=localStorage.getItem("email")}catch(e){storageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),feedback.classList.add("modal-show"),feedback.classList.add("modal-animate"),storageName?(nameField.value=storageName,email.focus()):nameField.focus(),storageName&&storageEmail&&(nameField.value=storageName,email.value=storageEmail,message.focus())}),form.addEventListener("submit",function(e){nameField.value&&email.value&&message.value?storageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",email.value)):(e.preventDefault(),feedback.classList.remove("modal-error"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("modal-error"))}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("modal-show"),feedback.classList.remove("modal-animate"),feedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),feedback.classList.contains("modal-show")&&(feedback.classList.remove("modal-show"),feedback.classList.remove("modal-animate"),feedback.classList.remove("modal-error")),map.classList.contains("modal-show")&&(map.classList.remove("modal-show"),map.classList.remove("modal-animate")))}),mapLink.addEventListener("click",function(e){e.preventDefault(),map.classList.add("modal-show"),map.classList.add("modal-animate")}),mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-show"),map.classList.remove("modal-animate")}),document.addEventListener("click",function(e){!e.target.matches(".modal-feedback, .modal-feedback *, .contacts-button")&&feedback.classList.contains("modal-show")&&(feedback.classList.remove("modal-show"),feedback.classList.remove("modal-animate"),feedback.classList.remove("modal-error")),!e.target.matches(".modal-map *, .map-link *")&&map.classList.contains("modal-show")&&(map.classList.remove("modal-show"),map.classList.remove("modal-animate"))}),buttonSelfie.addEventListener("click",function(e){e.preventDefault(),slideSelfie.classList.add("slide-show"),buttonSelfie.classList.add("switch-button-current"),slideFitness.classList.contains("slide-show")&&(slideFitness.classList.remove("slide-show"),buttonFitness.classList.remove("switch-button-current")),slideQuadcopter.classList.contains("slide-show")&&(slideQuadcopter.classList.remove("slide-show"),buttonQuadcopter.classList.remove("switch-button-current"))}),buttonFitness.addEventListener("click",function(e){e.preventDefault(),slideFitness.classList.add("slide-show"),buttonFitness.classList.add("switch-button-current"),slideSelfie.classList.contains("slide-show")&&(slideSelfie.classList.remove("slide-show"),buttonSelfie.classList.remove("switch-button-current")),slideQuadcopter.classList.contains("slide-show")&&(slideQuadcopter.classList.remove("slide-show"),buttonQuadcopter.classList.remove("switch-button-current"))}),buttonQuadcopter.addEventListener("click",function(e){e.preventDefault(),slideQuadcopter.classList.add("slide-show"),buttonQuadcopter.classList.add("switch-button-current"),slideSelfie.classList.contains("slide-show")&&(slideSelfie.classList.remove("slide-show"),buttonSelfie.classList.remove("switch-button-current")),slideFitness.classList.contains("slide-show")&&(slideFitness.classList.remove("slide-show"),buttonFitness.classList.remove("switch-button-current"))}),buttonDelivery.addEventListener("click",function(e){e.preventDefault(),slideDelivery.classList.add("slide-show"),buttonDelivery.classList.add("slider-button-current"),slideWarranty.classList.contains("slide-show")&&(slideWarranty.classList.remove("slide-show"),buttonWarranty.classList.remove("slider-button-current")),slideCredit.classList.contains("slide-show")&&(slideCredit.classList.remove("slide-show"),buttonCredit.classList.remove("slider-button-current"))}),buttonWarranty.addEventListener("click",function(e){e.preventDefault(),slideWarranty.classList.add("slide-show"),buttonWarranty.classList.add("slider-button-current"),slideDelivery.classList.contains("slide-show")&&(slideDelivery.classList.remove("slide-show"),buttonDelivery.classList.remove("slider-button-current")),slideCredit.classList.contains("slide-show")&&(slideCredit.classList.remove("slide-show"),buttonCredit.classList.remove("slider-button-current"))}),buttonCredit.addEventListener("click",function(e){e.preventDefault(),slideCredit.classList.add("slide-show"),buttonCredit.classList.add("slider-button-current"),slideDelivery.classList.contains("slide-show")&&(slideDelivery.classList.remove("slide-show"),buttonDelivery.classList.remove("slider-button-current")),slideWarranty.classList.contains("slide-show")&&(slideWarranty.classList.remove("slide-show"),buttonWarranty.classList.remove("slider-button-current"))});